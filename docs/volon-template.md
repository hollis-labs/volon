# Volon Template & Release Plan

Volon is the clean template produced from the private `volon-dev` repo. Use this doc to
export a sanitized copy and publish it to [`hollis-labs/volon`](https://github.com/hollis-labs/volon)
for downstream consumption without inheriting internal history or runtime state.

## 1. Required Template Contents

| Path | Keep? | Notes |
| --- | --- | --- |
| `CLAUDE.md` | ‚úÖ | Boot instructions required in every Volon repo. |
| `volon.yaml` | ‚úÖ | Core configuration (to be customized downstream). |
| `.volon/agent-boot.md` | ‚úÖ | Canonical boot reference. |
| `.volon/boot/**` | ‚úÖ | Role addenda for orchestrator/worker/reviewer/etc. |
| `.volon/templates/**` | ‚úÖ | Prompt/workflow templates referenced by skills. |
| `cmd/`, `internal/`, `plugins/`, `schemas/`, `scripts/`, `workflows/` | ‚úÖ | Volon runtime code and tooling. |
| `docs/`, `examples/`, `user-docs-mini-site/`, `artifacts/knowledge/**`, `artifacts/plugins/**` | ‚úÖ | Product documentation and reference artifacts that are not iteration-specific. |
| `VOLON_*.md` (specs), `README.md`, `volon_v0.4_execution_brief.md` | ‚úÖ | Reference docs useful to consumers. |
| `go.mod`, `go.sum` | ‚úÖ | Required for Go modules. |
| `.gitignore` | ‚úÖ | Ensure standard ignores carry forward. |

## 2. Explicit Exclusion List

Remove the following from the template output (either skip copy or delete post-copy):

| Path / Pattern | Reason |
| --- | --- |
| `.git/`, `.gitmodules`, `.worktrees/` | Repo history stays local; new repo reinitializes git. |
| `.DS_Store`, other editor caches | Host-specific noise. |
| `.volon/tasks/**` | Historical tasks are project-specific. |
| `.volon/backlog/**` | Past backlog has no relevance to consumers. |
| `.volon/logs/**` (including archives) | Run logs are per-project history. |
| `.volon/pcc/**` | Project context cache is regenerated on demand. |
| `.volon/bootstrap.md`, `.volon/bootstrap/**` | New repo should run `/bootstrap-update` to initialize iteration state. |
| `.volon/state/**` (e.g., `volon.db`) | Local SQLite cache only. |
| `.volon/.gocache/**`, `.volon/.gomodcache/**` | Go build caches should not ship. |
| `tasks/**` (legacy packets) | Internal history not needed for consumers. |
| `artifacts/plan/**`, `artifacts/spec/**` tied to past iterations | Unless explicitly referenced by docs, leave out planning history. |
| `todo.db*` | Nanite app DBs (unrelated). |
| `todo.db-shm`, `todo.db-wal` | Nanite app WAL files. |
| `.volon/state`, `.volon/templates/.DS_Store`, similar | Residuals/caches. |

If uncertain, default to excluding writable/runtime directories unless documentation
explicitly requires them.

## 3. Sanitized `.volon/` Layout

After export, `.volon/` should contain only immutable boot/config artifacts:

| `.volon` Path | Keep? | Notes |
| --- | --- | --- |
| `agent-boot.md` | ‚úÖ | Required boot reference. |
| `boot/` | ‚úÖ | Role addenda shipped as-is. |
| `templates/` | ‚úÖ | Prompt/workflow templates. |
| `tasks/` | üö´ | Not copied; recreate when new tasks are created. |
| `backlog/` | üö´ | Empty/not present; backlog starts per-project. |
| `logs/` | üö´ | No historical logs; recreate directory if needed. |
| `pcc/` | üö´ | Regenerated via CLI when needed. |
| `bootstrap.md` | üö´ | Generated by `/bootstrap-update` in target repo. |
| `bootstrap/` history | üö´ | Remove history to avoid leaking prior iterations. |
| `state/` | üö´ | Contains SQLite cache; never copy. |
| `.gocache/`, `.gomodcache/` | üö´ | Local build caches. |

```
.volon/
  agent-boot.md
  boot/
    orchestrator.md
    worker.md
    reviewer.md
    architect.md
    ... (any other role profiles referenced by volon.yaml)
  templates/
    ... (prompt + workflow templates referenced by skills)
```

The following are **intentionally absent** and will be recreated by consumers:

- `.volon/tasks/` (not created; first `/volon task` command will add files)
- `.volon/backlog/`
- `.volon/logs/`
- `.volon/pcc/`
- `.volon/bootstrap.md` and `.volon/bootstrap/history/`
- `.volon/state/` (reinited via CLI)
- `.volon/.gocache`, `.volon/.gomodcache`

If tooling requires directories to exist, create empty directories with a placeholder
`.gitkeep` (document in automation requirements below) but leave them empty.

## 4. Export Automation & Release Requirements

The automation script must:

1. Accept an optional `--target <path>` flag (default `~/Projects-apps/volon`).
2. Remove any existing contents at the target path before copying.
3. Copy required files/directories (see ¬ß1) using `rsync`/`cp` with an exclusion list
   that matches ¬ß2.
4. Optionally create empty placeholder directories (`.volon/tasks`, `.volon/logs`, etc.)
   with `.gitkeep` so downstream git history can track them, or document that the user
   should create them on first use.
5. Initialize a new git repo in the target (`git init`, initial commit optional).
6. Optionally create a release tag/archive when `--release-tag <tag>` is passed:
   - Create annotated tag `<tag>`
   - Emit `dist/volon-<tag>.tar.gz` via `git archive`
   - Include the release artifacts in the summary output
7. Print a summary: target path, directories copied, directories skipped, placeholders
   created.
8. Exit non-zero on failure and leave the previous target untouched.

Automation workflow:

```
scripts/create-volon.sh --target ~/Projects-apps/volon [--release-tag v0.1.0-dev]
  ‚Ü≥ wipe target dir
  ‚Ü≥ copy allowed paths
  ‚Ü≥ create empty directories (.volon/tasks, etc.) with .gitkeep
  ‚Ü≥ remove caches/DBs/logs/backlog/tasks
  ‚Ü≥ git init && git status (ensure clean)
  ‚Ü≥ optional tag/archive
  ‚Ü≥ echo summary + next steps (run /bootstrap-update)
```

## 5. Verification Checklist

Run these after generating Volon (and include them in task verification logs):

1. `cd ~/Projects-apps/volon && git status` ‚Üí no changes.
2. `go test ./...` (or `go build ./...` if tests disabled) succeeds.
3. `scripts/volon-cli.sh /bootstrap-update` runs without errors and produces a fresh
   `.volon/bootstrap.md`.
4. Inspect `.volon/` contents: only boot/templates/optional empty directories present.
5. Confirm absence of `.volon/tasks`, `.volon/logs`, `.volon/pcc`, `.volon/state`,
   `.volon/bootstrap*`, `tasks/`, `todo.db*`, `.git/`.
6. Open `docs/volon-template.md` in the target repo to ensure instructions shipped.

Document the verification results (commands + summaries) in `artifacts/plan/` or within
this doc so future runs can compare outcomes.

## 6. Usage & Verification Notes

### Usage (for downstream projects)

1. Run `scripts/create-volon.sh [--target PATH] [--release-tag TAG]` from the private `volon-dev` repo.
2. `cd` into the generated directory (default `~/Projects-apps/volon`).
3. Optionally run `go test ./...` to verify your environment/setup.
4. Run `scripts/volon-cli.sh /bootstrap-update` (or your automation) to generate the first
   `.volon/bootstrap.md`.
5. Run `volon task reindex` followed by `volon task list --status todo --priority A` to seed the SQLite index and prove the CLI sees the queue (the CLI is now the canonical entry point for task management).
6. Initialize your own remote (`git remote add origin git@github.com:hollis-labs/volon.git`)
   and push `main` + tags when ready.
7. If you passed `--release-tag`, upload the generated
   `~/Projects-apps/volon-release-artifacts/volon-<tag>.tar.gz` (default location) to the
   GitHub release or artifact store of your choice.
8. Optional: `go build ./cmd/volon` to create the Volon CLI binary (usage prints ‚Äúvolon‚Äù).
   The source path will become `cmd/volon` after the module rename (TASK-20260224-010).
   You can also install globally via
   `go install github.com/hollis-labs/volon-dev/cmd/volon@latest`.
9. Migrating older clones: run `scripts/migrate-to-volon.sh` to rename `forge.yaml` +
   `.forge/` before exporting.

### Initial Verification log ‚Äî 2026-02-24

- `scripts/create-volon.sh --release-tag v0.1.0-dev` ‚Üí produced `~/Projects-apps/volon`
  (clean `git status`, tagged `v0.1.0-dev`, archive at
  `~/Projects-apps/volon-release-artifacts/volon-v0.1.0-dev.tar.gz`).
- `go test ./...` inside `~/Projects-apps/volon` ‚Üí all packages built/tests passed.
- `FORGE_NO_SYNC=1 CLAUDE_BIN=/tmp/claude-bootstrap-mock.sh scripts/volon-cli.sh --repo ~/Projects-apps/volon /bootstrap-update`
  ‚Üí generated `.volon/bootstrap.md` (mock CLAUDE writes bootstrap locally).
- Confirmed `.volon/` only contains `agent-boot.md`, `boot/`, `bootstrap.md`, `templates/`.

### Final rebrand verification & announcement ‚Äî 2026-02-24

- Tasks 007‚Äì011 (rename, docs, prompts, CLI wrapper, template cleanup) are all merged; this final pass re-ran `scripts/create-volon.sh --target /tmp/volon-rebrand-check` to ensure exports only mention ‚ÄúVolon.‚Äù
- Docs refreshed to instruct operators to rely on the Volon CLI (`volon task ‚Ä¶`) for queue review, lifecycle changes, and boot/cleanup checklists.
- A rebrand run log (`.volon/logs/run-20260224-rebrand.md`) summarizes the verification commands and links the related tasks so future sessions know the rename is complete.
- Downstream consumers can safely follow this template without encountering residual `forge` references; release instructions in this doc remain the canonical source.

### Publishing to hollis-labs/volon (release repo)

```
cd ~/Projects-apps/volon
git remote add origin git@github.com:hollis-labs/volon.git
git push -u origin main
git push origin --tags
# Optional: upload ~/Projects-apps/volon-release-artifacts/volon-v0.1.0-dev.tar.gz
# to a GitHub release named v0.1.0-dev.
```
